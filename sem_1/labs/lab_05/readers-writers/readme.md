### Комментарий
- Захватывать критическую секцию считающим семафором (`ACTIVE_WRITER`) - кринж. Рязанова попросила добавить бинарный семафор (`BIN_WRITER`) для захвата критической секции.
- "/dev/null" в ftok - кринж. Там должно быть уникальное имя файла, лежащего в проекте.

### Вопрос:
Фрагмент вывода программы:
```
Reader 4 read:  36
Writer 1 write: 37
Writer 2 write: 38
Writer 3 write: 39
Reader 3 read:  39
Reader 1 read:  39
Reader 2 read:  39
Reader 4 read:  39
Writer 1 write: 40
```
- Writer 2 записал 38, Writer 3 записал 39, и Reader'ы читают 39. Как это называется?<br>
\- Потерянное обновление.
- Откуда из алгоритма монитора Хоара следует это потерянное обновление?<br>
\- *Тыкаю в функцию `start_read`*. **Читатель может начать читать, если нет активного писателя и в очереди нет ждущих писателей**. Поскольку читатель это проверяет перед чтением, возникает потерянное обновление.<br><br>

Это заложено в самом алгоритме и является его особенностью. С одной стороны, это устраняет бесконечное откладывание писателей, а с другой стороны это приводит к такому эффекту, как потерянное обновление. Иногда это допустимо, например, когда читателям нужны **актуальные** данные. В таком случае писатели должны иметь преимущество, потому что устаревшие данные никому не нужны. А в некоторых случаях потерянного обновления может и вовсе не быть. Например, когда мы покупаем билет на самолёт, место помечается как проданное, и снова занять его уже будет невозможно (писатель (покупатель) пишет только один раз).
